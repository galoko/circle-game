{"version":3,"file":"main.js","sources":["../node_modules/box2d-wasm/dist/es/entry.js","../src/main.ts"],"sourcesContent":["/**\n * @param {Parameters<import('box2d-wasm')>} args\n * @return {ReturnType<import('box2d-wasm')>}\n */\nexport default async (...args) => {\n  /**\n   * This validation expression comes from wasm-feature-detect:\n   * https://github.com/GoogleChromeLabs/wasm-feature-detect\n   * \n   * Copyright 2019 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  const hasSIMD = WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));\n  /** @type {{ 'default': import('box2d-wasm') }} */\n  const Box2DModule = await (\n    hasSIMD\n      ? import('./Box2D.simd.js')\n      : import('./Box2D.js')\n  );\n  const { 'default': Box2DFactory } = Box2DModule;\n  // awaiting gives us a better stack trace (at the cost of an extra microtask)\n  return await Box2DFactory(...args);\n};","import initBox2D from \"box2d-wasm\"\r\n\r\nconst Box2D = await initBox2D()\r\nawait document.fonts.load('16px \"VT323\"')\r\n\r\n// ---- Seeded RNG (LCG) ----\r\n// 32-bit LCG: x = (a*x + c) mod 2^32\r\n// Returns float in [0, 1)\r\nfunction makeLCG(seed: number) {\r\n    let state = seed >>> 0\r\n    return function random() {\r\n        state = (Math.imul(1664525, state) + 1013904223) >>> 0\r\n        return state / 4294967296\r\n    }\r\n}\r\n\r\n// Pick a seed (fixed for deterministic runs; or change it per run)\r\nconst rand = makeLCG(123456789) // <= change seed here if you want\r\n\r\n// Optional helpers\r\nconst randRange = (min: number, max: number) => min + (max - min) * rand()\r\n\r\nconst world = new Box2D.b2World(new Box2D.b2Vec2(0, 0))\r\n\r\nconst canvas = document.createElement(\"canvas\")\r\n\r\nconst WIDTH = 1080\r\nconst HEIGHT = 1920\r\n\r\nconst height = document.body.clientHeight\r\ncanvas.width = WIDTH\r\ncanvas.height = HEIGHT\r\ncanvas.style.width = WIDTH / devicePixelRatio + \"px\"\r\ncanvas.style.height = HEIGHT / devicePixelRatio + \"px\"\r\nconst ctx = canvas.getContext(\"2d\")!\r\ndocument.body.appendChild(canvas)\r\n\r\nfunction createCircleBody(x: number, y: number, size: number) {\r\n    const bodyDef = new Box2D.b2BodyDef()\r\n    bodyDef.set_type(Box2D.b2_dynamicBody)\r\n\r\n    bodyDef.set_position(new Box2D.b2Vec2(x, y))\r\n\r\n    const body = world.CreateBody(bodyDef)\r\n\r\n    const shape = new Box2D.b2CircleShape()\r\n    shape.set_m_radius(size / 2)\r\n\r\n    const fixtureDef = new Box2D.b2FixtureDef()\r\n    fixtureDef.set_shape(shape)\r\n    fixtureDef.set_density(1.0)\r\n    fixtureDef.set_friction(1)\r\n    fixtureDef.set_restitution(0)\r\n\r\n    body.CreateFixture(fixtureDef)\r\n\r\n    return body\r\n}\r\n\r\nconst TEAM_A = 1\r\nconst TEAM_B = 2\r\n\r\nconst players: Player[] = []\r\n\r\nlet NextPlayerID = 1\r\n\r\nclass Player {\r\n    id = NextPlayerID++\r\n\r\n    HP: number = 1000\r\n    body: Box2D.b2Body\r\n\r\n    constructor(readonly team: number, x: number, y: number, public size = 1) {\r\n        players.push(this)\r\n        this.body = createCircleBody(x, y, size)\r\n        this.body.GetUserData().set_pointer(this.id)\r\n    }\r\n\r\n    target?: Player\r\n    retargetTimer = 0\r\n}\r\n\r\nfor (let x = 0; x < 10; x++) {\r\n    for (let y = 0; y < 10; y++) {\r\n        new Player(TEAM_A, 10 + x + randRange(-0.1, 0.1), 10 + y + randRange(-0.1, 0.1))\r\n        new Player(TEAM_B, 10 + x + randRange(-0.1, 0.1), 10 + y + randRange(-0.1, 0.1) + 30)\r\n    }\r\n}\r\n\r\nconst DT = 1 / 60\r\n\r\nlet lastTimestamp: number | undefined\r\nlet timeElapsed = 0\r\n\r\nlet cameraX = 0\r\nlet cameraY = 0\r\nlet cameraScale = 25 // 1 meter = 100 pixels\r\n\r\n// ai stuff\r\n\r\nfunction findNearestEnemy(player: Player): Player | undefined {\r\n    let best: Player | undefined\r\n    let bestDist = Infinity\r\n\r\n    const pos = player.body.GetPosition()\r\n\r\n    for (const other of players) {\r\n        if (other.team === player.team || other.HP <= 0) continue\r\n\r\n        const p = other.body.GetPosition()\r\n        const dx = p.get_x() - pos.get_x()\r\n        const dy = p.get_y() - pos.get_y()\r\n        const d2 = dx * dx + dy * dy\r\n\r\n        if (d2 < bestDist) {\r\n            bestDist = d2\r\n            best = other\r\n        }\r\n    }\r\n\r\n    return best\r\n}\r\n\r\nconst MAX_SPEED = 0.1\r\nconst KP = 10 // attraction strength\r\nconst KD = 4 // damping (important!)\r\nconst ARRIVAL_RADIUS = 0.5\r\n\r\nlet force = new Box2D.b2Vec2(0, 0)\r\n\r\nfunction applyMovementAI(player: Player, dt: number) {\r\n    if (!player.target) return\r\n\r\n    const body = player.body\r\n\r\n    const pos = body.GetPosition()\r\n    const vel = body.GetLinearVelocity()\r\n    const tpos = player.target.body.GetPosition()\r\n\r\n    const dx = tpos.get_x() - pos.get_x()\r\n    const dy = tpos.get_y() - pos.get_y()\r\n    const dist = Math.hypot(dx, dy)\r\n\r\n    if (dist < 0.001) return\r\n\r\n    const nx = dx / dist\r\n    const ny = dy / dist\r\n\r\n    // arrival slowing\r\n    const speedFactor = dist < ARRIVAL_RADIUS ? dist / ARRIVAL_RADIUS : 1\r\n\r\n    const desiredVx = nx * MAX_SPEED * speedFactor\r\n    const desiredVy = ny * MAX_SPEED * speedFactor\r\n\r\n    const errVx = desiredVx - vel.get_x()\r\n    const errVy = desiredVy - vel.get_y()\r\n\r\n    force.set_x(KP * errVx - KD * vel.get_x())\r\n    force.set_y(KP * errVy - KD * vel.get_y())\r\n\r\n    body.ApplyForceToCenter(force, true)\r\n}\r\n\r\nfunction stepAI(dt: number) {\r\n    for (const p of players) {\r\n        if (p.HP <= 0) {\r\n            // СДОХ СУКА\r\n            debugger\r\n            continue\r\n        }\r\n\r\n        p.retargetTimer -= DT\r\n        if (!p.target || p.target.HP <= 0) {\r\n            p.target = findNearestEnemy(p)\r\n            // p.retargetTimer = randRange(0.5, 1)\r\n        }\r\n\r\n        applyMovementAI(p, DT)\r\n    }\r\n}\r\n\r\n// damage\r\n\r\nfunction tick(time: number) {\r\n    // physics\r\n\r\n    lastTimestamp ??= time\r\n\r\n    const delta = (time - lastTimestamp) / 1000\r\n    timeElapsed += delta\r\n\r\n    while (timeElapsed >= DT) {\r\n        stepAI(DT)\r\n\r\n        world.Step(DT, 1, 1)\r\n        timeElapsed -= DT\r\n    }\r\n\r\n    // rendering\r\n    ctx.resetTransform()\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\r\n\r\n    ctx.scale(cameraScale, cameraScale)\r\n    ctx.translate(-cameraX, -cameraY)\r\n\r\n    let minX = Infinity\r\n    let minY = Infinity\r\n    let maxX = -Infinity\r\n    let maxY = -Infinity\r\n\r\n    for (const player of players) {\r\n        const pos = player.body.GetPosition()\r\n        const x = pos.get_x()\r\n        const y = pos.get_y()\r\n\r\n        minX = Math.min(minX, x - player.size / 2)\r\n        minY = Math.min(minY, y - player.size / 2)\r\n        maxX = Math.max(maxX, x + player.size / 2)\r\n        maxY = Math.max(maxY, y + player.size / 2)\r\n\r\n        ctx.lineWidth = 0.1\r\n        ctx.beginPath()\r\n        ctx.arc(x, y, player.size / 2 - 0.1 / 2, 0, Math.PI * 2)\r\n        ctx.strokeStyle = player.team === TEAM_A ? \"red\" : \"blue\"\r\n        ctx.stroke()\r\n\r\n        ctx.textAlign = \"center\"\r\n        ctx.textBaseline = \"middle\"\r\n        ctx.fillStyle = \"black\"\r\n        ctx.font = 'bold 0.8px \"VT323\"'\r\n        ctx.fillText(Math.round(player.HP / 100).toString(), x, y)\r\n    }\r\n\r\n    // adjust camera\r\n\r\n    const boundsWidth = maxX - minX\r\n    const boundsHeight = maxY - minY\r\n\r\n    const boundsCenterX = (minX + maxX) / 2\r\n    const boundsCenterY = (minY + maxY) / 2\r\n\r\n    const margin = 1.2 // 20% padding around the scene\r\n\r\n    const scaleX = ctx.canvas.width / (boundsWidth * margin)\r\n    const scaleY = ctx.canvas.height / (boundsHeight * margin)\r\n\r\n    cameraScale = Math.min(scaleX, scaleY)\r\n    cameraX = boundsCenterX - ctx.canvas.width / cameraScale / 2\r\n    cameraY = boundsCenterY - ctx.canvas.height / cameraScale / 2\r\n\r\n    requestAnimationFrame(tick)\r\n}\r\n\r\nrequestAnimationFrame(tick)\r\n"],"names":[],"mappings":"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"}