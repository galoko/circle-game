{"version":3,"file":"main.js","sources":["../src/main.ts"],"sourcesContent":["// ---- Seeded RNG (LCG) ----\r\n// 32-bit LCG: x = (a*x + c) mod 2^32\r\n// Returns float in [0, 1)\r\nfunction makeLCG(seed: number) {\r\n    let state = seed >>> 0\r\n    return function random() {\r\n        state = (Math.imul(1664525, state) + 1013904223) >>> 0\r\n        return state / 4294967296\r\n    }\r\n}\r\n\r\n// Pick a seed (fixed for deterministic runs; or change it per run)\r\nconst rand = makeLCG(123456789) // <= change seed here if you want\r\n\r\n// Optional helpers\r\nconst randRange = (min: number, max: number) => min + (max - min) * rand()\r\n\r\nconst canvas = document.createElement(\"canvas\")\r\n\r\nconst WIDTH = 1080\r\nconst HEIGHT = 1920\r\n\r\nconst height = document.body.clientHeight\r\ncanvas.width = WIDTH\r\ncanvas.height = HEIGHT\r\ncanvas.style.width = WIDTH / devicePixelRatio + \"px\"\r\ncanvas.style.height = HEIGHT / devicePixelRatio + \"px\"\r\nconst ctx = canvas.getContext(\"2d\")!\r\ndocument.body.appendChild(canvas)\r\n\r\nconst TEAM_A = 1\r\nconst TEAM_B = 2\r\n\r\nconst players: Player[] = []\r\n\r\nlet NextPlayerID = 1\r\n\r\nclass Player {\r\n    id = NextPlayerID++\r\n\r\n    HP: number = 1000\r\n\r\n    constructor(readonly team: number, public x: number, public y: number, public size = 1) {\r\n        players.push(this)\r\n    }\r\n\r\n    vx = 0\r\n    vy = 0\r\n\r\n    target?: Player\r\n    retargetTimer = 0\r\n}\r\n\r\nfor (let x = 0; x < 2; x++) {\r\n    for (let y = 0; y < 2; y++) {\r\n        new Player(TEAM_A, 10 + x + randRange(-0.1, 0.1), 10 + y + randRange(-0.1, 0.1))\r\n        new Player(TEAM_B, 10 + x + randRange(-0.1, 0.1), 10 + y + randRange(-0.1, 0.1) + 30)\r\n    }\r\n}\r\n\r\nconst DT = 1 / 20\r\n\r\nlet lastTimestamp: number | undefined\r\nlet timeElapsed = 0\r\n\r\nlet cameraX = 0\r\nlet cameraY = 0\r\nlet cameraScale = 25 // 1 meter = 100 pixels\r\n\r\nconst COLLISION_STIFFNESS = 5 // how hard circles push apart\r\nconst COLLISION_DAMPING = 1 // velocity damping on collision\r\nconst GLOBAL_DAMPING = 0.98 // air resistance\r\n\r\nfunction stepPhysics(dt: number) {\r\n    // --- Integrate velocity ---\r\n    for (const p of players) {\r\n        if (p.HP <= 0) continue\r\n\r\n        p.x += p.vx * dt\r\n        p.y += p.vy * dt\r\n\r\n        // global damping\r\n        p.vx *= GLOBAL_DAMPING\r\n        p.vy *= GLOBAL_DAMPING\r\n    }\r\n\r\n    // --- Circle-circle collisions ---\r\n    for (let i = 0; i < players.length; i++) {\r\n        const a = players[i]\r\n\r\n        for (let j = i + 1; j < players.length; j++) {\r\n            const b = players[j]\r\n\r\n            const dx = b.x - a.x\r\n            const dy = b.y - a.y\r\n            const dist2 = dx * dx + dy * dy\r\n\r\n            const ra = a.size * 0.5\r\n            const rb = b.size * 0.5\r\n            const minDist = ra + rb\r\n\r\n            if (dist2 === 0 || dist2 >= minDist * minDist) continue\r\n\r\n            const dist = Math.sqrt(dist2)\r\n            const nx = dx / dist\r\n            const ny = dy / dist\r\n\r\n            const penetration = minDist - dist\r\n\r\n            // --- Relative velocity ---\r\n            const rvx = b.vx - a.vx\r\n            const rvy = b.vy - a.vy\r\n            const relVel = rvx * nx + rvy * ny\r\n\r\n            // --- Spring impulse ---\r\n            const force = COLLISION_STIFFNESS * penetration - COLLISION_DAMPING * relVel\r\n\r\n            const impulseX = force * nx * dt\r\n            const impulseY = force * ny * dt\r\n\r\n            a.vx -= impulseX\r\n            a.vy -= impulseY\r\n            b.vx += impulseX\r\n            b.vy += impulseY\r\n        }\r\n    }\r\n}\r\n\r\n// ai stuff\r\n\r\nfunction findNearestEnemy(player: Player): Player | undefined {\r\n    let best: Player | undefined\r\n    let bestDist = Infinity\r\n\r\n    for (const other of players) {\r\n        if (other.team === player.team || other.HP <= 0) continue\r\n\r\n        const dx = other.x - player.x\r\n        const dy = other.y - player.y\r\n        const d2 = dx * dx + dy * dy\r\n\r\n        if (d2 < bestDist) {\r\n            bestDist = d2\r\n            best = other\r\n        }\r\n    }\r\n\r\n    return best\r\n}\r\n\r\nconst MAX_SPEED = 0.1\r\nconst KP = 10 // attraction strength\r\nconst KD = 4 // damping (important!)\r\nconst ARRIVAL_RADIUS = 1.2\r\n\r\nfunction applyImpulseToCenter(player: Player, fx: number, fy: number, dt: number) {\r\n    player.vx += fx * DT\r\n    player.vy += fy * DT\r\n}\r\n\r\nfunction applyMovementAI(player: Player, dt: number) {\r\n    if (!player.target) return\r\n\r\n    const dx = player.target.x - player.x\r\n    const dy = player.target.y - player.y\r\n    const dist = Math.sqrt(dx * dx + dy * dy)\r\n\r\n    if (dist < 1.1) return\r\n\r\n    const nx = dx / dist\r\n    const ny = dy / dist\r\n\r\n    // arrival slowing\r\n    const speedFactor = dist < ARRIVAL_RADIUS ? ARRIVAL_RADIUS - dist : 1\r\n\r\n    const desiredVx = nx * MAX_SPEED * speedFactor\r\n    const desiredVy = ny * MAX_SPEED * speedFactor\r\n\r\n    const errVx = desiredVx - player.vx\r\n    const errVy = desiredVy - player.vy\r\n\r\n    applyImpulseToCenter(player, KP * errVx - KD * player.vx, KP * errVy - KD * player.vy, dt)\r\n}\r\n\r\nfunction stepAI(dt: number) {\r\n    for (const p of players) {\r\n        if (p.HP <= 0) {\r\n            // СДОХ СУКА\r\n            debugger\r\n            continue\r\n        }\r\n\r\n        p.retargetTimer -= dt\r\n        if (!p.target || p.target.HP <= 0) {\r\n            p.target = findNearestEnemy(p)\r\n            // p.retargetTimer = randRange(0.5, 1)\r\n        }\r\n\r\n        applyMovementAI(p, dt)\r\n    }\r\n}\r\n\r\n// damage\r\n\r\nfunction tick(time: number) {\r\n    // physics\r\n\r\n    lastTimestamp ??= time\r\n\r\n    const delta = (time - lastTimestamp) / 1000\r\n    timeElapsed += delta\r\n\r\n    while (timeElapsed >= DT) {\r\n        stepAI(DT)\r\n\r\n        stepPhysics(DT)\r\n\r\n        timeElapsed -= DT\r\n    }\r\n\r\n    // rendering\r\n    ctx.resetTransform()\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\r\n\r\n    ctx.scale(cameraScale, cameraScale)\r\n    ctx.translate(-cameraX, -cameraY)\r\n\r\n    let minX = Infinity\r\n    let minY = Infinity\r\n    let maxX = -Infinity\r\n    let maxY = -Infinity\r\n\r\n    for (const player of players) {\r\n        minX = Math.min(minX, player.x - player.size / 2)\r\n        minY = Math.min(minY, player.y - player.size / 2)\r\n        maxX = Math.max(maxX, player.x + player.size / 2)\r\n        maxY = Math.max(maxY, player.y + player.size / 2)\r\n\r\n        ctx.lineWidth = 0.1\r\n        ctx.beginPath()\r\n        ctx.arc(player.x, player.y, player.size / 2 - 0.1 / 2, 0, Math.PI * 2)\r\n        ctx.strokeStyle = player.team === TEAM_A ? \"red\" : \"blue\"\r\n        ctx.stroke()\r\n\r\n        ctx.textAlign = \"center\"\r\n        ctx.textBaseline = \"middle\"\r\n        ctx.fillStyle = \"black\"\r\n        ctx.font = 'bold 0.8px \"VT323\"'\r\n        ctx.fillText(Math.round(player.HP / 100).toString(), player.x, player.y)\r\n    }\r\n\r\n    // adjust camera\r\n\r\n    const boundsWidth = maxX - minX\r\n    const boundsHeight = maxY - minY\r\n\r\n    const boundsCenterX = (minX + maxX) / 2\r\n    const boundsCenterY = (minY + maxY) / 2\r\n\r\n    const margin = 1.2 // 20% padding around the scene\r\n\r\n    const scaleX = ctx.canvas.width / (boundsWidth * margin)\r\n    const scaleY = ctx.canvas.height / (boundsHeight * margin)\r\n\r\n    cameraScale = Math.min(scaleX, scaleY)\r\n    cameraX = boundsCenterX - ctx.canvas.width / cameraScale / 2\r\n    cameraY = boundsCenterY - ctx.canvas.height / cameraScale / 2\r\n\r\n    requestAnimationFrame(tick)\r\n}\r\n\r\nrequestAnimationFrame(tick)\r\n"],"names":[],"mappings":"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"}